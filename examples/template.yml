kinds:
- name: pod
  for: pods
- name: podgroup
  for: podgroups.scheduling.volcano.sh
actions:
- attr:
    kinds:
    - pod
    - podgroup
    name: namespace
    valueFrom:
      expr: value.data.metadata.namespace
- attr:
    kinds:
    - pod
    - podgroup
    name: name
    valueFrom:
      expr: value.data.metadata.name
- attr:
    kind: pod
    name: node
    valueFrom:
      expr: value.data.spec.nodeName
- attr:
    kind: pod
    name: podgroup
    valueFrom:
      expr: value.data.metadata.annotations["scheduling.k8s.io/group-name"]
- bind:
    kinds:
    - pod
    - podgroup
    name: pgbind
    conditionFrom:
      expr: value1.namespace == value2.namespace && value1.podgroup == value2.name
- attr:
    kind: podgroup
    name: pods
    valueFrom:
      expr: len(value.pgbind)
